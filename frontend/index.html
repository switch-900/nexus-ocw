<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nexus On-Chain Wallet</title>
  
  <!-- Import map served from ordinals content for development -->
  
  <script>
           
      // Prevent wallet extension errors from breaking the app
      const originalDefineProperty = Object.defineProperty;
      const originalDefineProperties = Object.defineProperties;
      
      Object.defineProperty = function(obj, prop, descriptor) {
        try {
          return originalDefineProperty.call(this, obj, prop, descriptor);
        } catch (e) {
          if (e.message.includes('redefine property')) {
            console.warn(`Prevented redefinition of property: ${prop}`);
            return obj;
          }
          throw e;
        }
      };
      
      Object.defineProperties = function(obj, props) {
        try {
          return originalDefineProperties.call(this, obj, props);
        } catch (e) {
          if (e.message.includes('redefine property')) {
            console.warn('Prevented redefinition of properties:', Object.keys(props));
            return obj;
          }
          throw e;
        }
      };
  </script>
  <script src="/content/5d82695b820a676ba23cda5390249f295eacb1a97e4df20fc02eaa501bd20eedi0"></script>
  <script src="/content/609b117277f1e9c9f27f358fe02db34e13d08915bbcea18770dc36f5f3afcbb2i2"></script>
  
  <script type="module">
    // Polyfill for react-spring/web - add unstable_batchedUpdates to react-dom
    import ReactDOM from 'react-dom';
    if (!ReactDOM.unstable_batchedUpdates) {
      ReactDOM.unstable_batchedUpdates = (callback) => callback();
    }
  </script>
  
  <!-- Load NexusWalletConnect from inscription (PRODUCTION ONLY) -->
  <script type="module">
    import NWC from '/content/81d5e48b529f2aa199c4ee2507a56a9e0768299b7332a9dac6c6a81c4201cbd6i0';
    window.NexusWalletConnect = NWC;
  </script>
  
  <link rel="icon" href="/content/cfab194b924f7785c6e453728e1c264b89b74843633278cda3ad3f57576c1e93i0">
  
  <!-- Minimal base styles -->
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
    }
    
    #root {
      min-height: 100vh;
    }
  </style>
  
  <!-- Ensure that necessary scripts for @react-three/fiber and @react-three/drei are included if not handled by bundler -->
</head>
<body>
  <div id="root"></div>
  
  <script type="module" src="./main.jsx"></script>
</body>
</html>