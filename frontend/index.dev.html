<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nexus OCW - Development</title>
  
  <!-- Import map for development - maps to /content which will be proxied to ordinals.com -->
  <script type="importmap">
  {
    "imports": {
      "react": "/content/609b117277f1e9c9f27f358fe02db34e13d08915bbcea18770dc36f5f3afcbb2i0",
      "react-dom": "/content/609b117277f1e9c9f27f358fe02db34e13d08915bbcea18770dc36f5f3afcbb2i1",
      "react-dom/client": "/content/4d9308ce08bed11c028acb3d1dd964ea0e9809f51daf141ca0760e745a8070aei0",
      "react/jsx-runtime": "/content/609bad601cdafa4d4a2622bbd9f4ebfdd278b8c5ea1efeb0d468db33f871fffai1"
    }
  }
  </script>
  
  <script>
    // Prevent wallet extension property conflicts
    const originalDefineProperty = Object.defineProperty;
    const originalDefineProperties = Object.defineProperties;
    
    Object.defineProperty = function(obj, prop, descriptor) {
      try {
        return originalDefineProperty.call(this, obj, prop, descriptor);
      } catch (e) {
        if (e.message.includes('redefine property')) {
          console.warn(`Prevented redefinition of property: ${prop}`);
          return obj;
        }
        throw e;
      }
    };
    
    Object.defineProperties = function(obj, props) {
      try {
        return originalDefineProperties.call(this, obj, props);
      } catch (e) {
        if (e.message.includes('redefine property')) {
          console.warn('Prevented redefinition of properties:', Object.keys(props));
          return obj;
        }
        throw e;
      }
    };
  </script>
  
  <!-- Load Tailwind and polyfills from ordinals -->
  <script src="/content/5d82695b820a676ba23cda5390249f295eacb1a97e4df20fc02eaa501bd20eedi0"></script>
  <script src="/content/609b117277f1e9c9f27f358fe02db34e13d08915bbcea18770dc36f5f3afcbb2i2"></script>
  
  <script type="module">
    // Polyfill for react-spring/web - add unstable_batchedUpdates to react-dom
    import ReactDOM from 'react-dom';
    if (!ReactDOM.unstable_batchedUpdates) {
      ReactDOM.unstable_batchedUpdates = (callback) => callback();
    }
  </script>
   
  <!-- Load NexusWalletConnect from LOCAL FILES -->
  <script type="module">
    // Import the dev-loader-simple which loads all modules from local files with direct imports
    import * as NWC from './components/dev-loader-simple.js';
    
    // Expose globally
    window.NexusWalletConnect = NWC;
    console.log('🔧 DEV MODE: All modules loaded from local files');
    console.log('📁 Content proxied through Vite to ordinals.com');
    console.log('✅ Available functions:', Object.keys(NWC).filter(k => typeof NWC[k] === 'function'));
  </script>
  
  <link rel="icon" href="/content/cfab194b924f7785c6e453728e1c264b89b74843633278cda3ad3f57576c1e93i0">
  
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    #root {
      min-height: 100vh;
    }
    
    /* Dev mode indicator */
    body::before {
      content: '🔧 DEV-PROXY';
      position: fixed;
      bottom: 10px;
      right: 10px;
      background: #667eea;
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: bold;
      z-index: 9999;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="module" src="./main.jsx"></script>
</body>
</html>
